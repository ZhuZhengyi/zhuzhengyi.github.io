<!doctype html><html lang=zh-cn itemscope itemtype=http://schema.org/WebPage>
<head>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<title>Rust 数据类型 - Justice的小站</title>
<meta name=renderer content="webkit">
<meta name=viewport content="width=device-width,initial-scale=1,user-scalable=yes">
<meta name=MobileOptimized content="width">
<meta name=HandheldFriendly content="true">
<meta name=applicable-device content="pc,mobile">
<meta name=theme-color content="#f8f5ec">
<meta name=msapplication-navbutton-color content="#f8f5ec">
<meta name=apple-mobile-web-app-capable content="yes">
<meta name=apple-mobile-web-app-status-bar-style content="#f8f5ec">
<meta name=mobile-web-app-capable content="yes">
<meta name=author content="Justice">
<meta name=description content="Rust 数据类型 简介 Rust的数据类型分为标量(scalar)类型和复合(compound)类型两类。 标量类型：表示一个单独的值，包括bool, numeirc,">
<meta name=keywords content="Hugo,theme,jane">
<meta name=generator content="Hugo 0.88.1">
<link rel=canonical href=https://justice.bj.cn/post/14.language/rust/02.rust%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/>
<link rel=icon href=/favicon.ico>
<link rel=stylesheet href=/sass/jane.min.2f6e4d7e6e51da09470910b5f0d41a7d2c517dbe97416dd268a18bb7334c4ff8.css integrity="sha256-L25Nfm5R2glHCRC18NQafSxRfb6XQW3SaKGLtzNMT/g=" media=screen crossorigin=anonymous>
<meta property="og:title" content="Rust 数据类型">
<meta property="og:description" content="Rust 数据类型 简介 Rust的数据类型分为标量(scalar)类型和复合(compound)类型两类。 标量类型：表示一个单独的值，包括bool, numeirc,">
<meta property="og:type" content="article">
<meta property="og:url" content="https://justice.bj.cn/post/14.language/rust/02.rust%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/"><meta property="article:section" content="post">
<meta property="article:published_time" content="2021-09-28T00:00:00+00:00">
<meta property="article:modified_time" content="2021-09-28T00:00:00+00:00"><meta property="og:site_name" content="Justice的小站">
<meta itemprop=name content="Rust 数据类型">
<meta itemprop=description content="Rust 数据类型 简介 Rust的数据类型分为标量(scalar)类型和复合(compound)类型两类。 标量类型：表示一个单独的值，包括bool, numeirc,"><meta itemprop=datePublished content="2021-09-28T00:00:00+00:00">
<meta itemprop=dateModified content="2021-09-28T00:00:00+00:00">
<meta itemprop=wordCount content="2423">
<meta itemprop=keywords content="language,rust,"><meta name=twitter:card content="summary">
<meta name=twitter:title content="Rust 数据类型">
<meta name=twitter:description content="Rust 数据类型 简介 Rust的数据类型分为标量(scalar)类型和复合(compound)类型两类。 标量类型：表示一个单独的值，包括bool, numeirc,"><!--[if lte IE 9]><script src=https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js></script><![endif]--><!--[if lt IE 9]><script src=https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js></script>
<script src=https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js></script><![endif]-->
</head>
<body>
<div id=mobile-navbar class=mobile-navbar>
<div class=mobile-header-logo>
<a href=/ class=logo>Justice's Blog</a>
</div>
<div class=mobile-navbar-icon>
<span></span>
<span></span>
<span></span>
</div>
</div>
<nav id=mobile-menu class="mobile-menu slideout-menu">
<ul class=mobile-menu-list>
<li class=mobile-menu-item>
<a class=menu-item-link href=https://justice.bj.cn/>主页</a>
</li><li class=mobile-menu-item>
<a class=menu-item-link href=https://justice.bj.cn/post/>点滴</a>
</li><li class=mobile-menu-item>
<a class=menu-item-link href=https://justice.bj.cn/tags/>标签</a>
</li><li class=mobile-menu-item>
<a class=menu-item-link href=https://justice.bj.cn/categories/>分类</a>
</li><li class=mobile-menu-item>
<a class=menu-item-link href=https://gohugo.io rel=noopener target=_blank>
更多
<i class=iconfont><svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18" height="18"><path d="M623.36 272.96 473.216 423.04C467.2 429.056 467.072 438.656 472.896 444.416c0 0-6.72-6.656 1.6 1.6 21.568 21.632 54.144 54.208 54.144 54.208C534.464 506.048 544 505.856 550.016 499.904l150.08-150.144 67.328 66.432c9.024 8.96 27.456 4.544 30.4-8.96 19.968-92.608 46.656-227.52 46.656-227.52 6.848-34.496-16.192-56.704-49.92-49.92.0.0-134.656 26.816-227.328 46.784C560.32 178.048 556.352 182.272 554.752 187.136c-3.2 6.208-3.008 14.208 3.776 20.992L623.36 272.96z"/><path d="M841.152 457.152c-30.528.0-54.784 24.512-54.784 54.656V786.56H237.696V237.696h206.016c6.656.0 10.752.0 13.248.0 30.72.0 55.04-24.512 55.04-54.848C512 152.32 487.36 128 456.96 128H183.04C153.216 128 128 152.576 128 182.848c0 3.136.256 6.272.768 9.28C128.256 195.136 128 198.272 128 201.408v639.488c0 .064.0.192.0.256.0.128.0.192.0.32.0 30.528 24.512 54.784 54.784 54.784H829.76c6.592.0 9.728.0 11.712.0 28.736.0 52.928-22.976 54.464-51.968C896 843.264 896 842.304 896 841.344v-20.352V561.408v-49.28C896 481.792 871.424 457.152 841.152 457.152z"/></svg>
</i>
</a>
</li>
<li class=mobile-menu-item>
<a id=openSearchMobile class="mobile-menu-item-link menu-item-search" href=#>
<i class=iconfont><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="18" height="18" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M973.81454219 973.81454219a91.78207815 91.78207815.0 01-129.80999631.0L682.0297247 811.83972101a425.48527711 425.48527711.0 01-230.35931791 68.16531768 428.3346319 428.3346319.0 11428.3346319-428.3346319A425.48527711 425.48527711.0 01811.83972101 682.0297247l162.02961656 161.97482118a91.83687354 91.83687354.0 01-.05479538 129.80999631zm-522.1441354-828.1209266a305.97679241 305.97679241.0 100 611.95358361 305.97679241 305.97679241.0 000-611.95358361z"/></svg>
</i>
</a>
</li>
</ul>
</nav>
<link rel=stylesheet href=/lib/photoswipe/photoswipe.min.css>
<link rel=stylesheet href=/lib/photoswipe/default-skin/default-skin.min.css>
<div class=pswp tabindex=-1 role=dialog aria-hidden=true>
<div class=pswp__bg></div>
<div class=pswp__scroll-wrap>
<div class=pswp__container>
<div class=pswp__item></div>
<div class=pswp__item></div>
<div class=pswp__item></div>
</div>
<div class="pswp__ui pswp__ui--hidden">
<div class=pswp__top-bar>
<div class=pswp__counter></div>
<button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
<div class=pswp__preloader>
<div class=pswp__preloader__icn>
<div class=pswp__preloader__cut>
<div class=pswp__preloader__donut></div>
</div>
</div>
</div>
</div>
<div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
<div class=pswp__share-tooltip></div>
</div>
<button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
</button>
<div class=pswp__caption>
<div class=pswp__caption__center></div>
</div>
</div>
</div>
</div>
<div class=modal-dialog>
<div class=modal-content>
<div id=closeSearch title=Close class=close>X</div>
<div class=modal-header>
<div class=modal-title>Search</div>
</div>
<div class=modal-body>
<script>(function(){var c='002186711602136249422:q1gkomof_em',a=document.createElement('script'),b;a.type='text/javascript',a.async=!0,a.src=(document.location.protocol=='https:'?'https:':'http:')+'//cse.google.com/cse.js?cx='+c,b=document.getElementsByTagName('script')[0],b.parentNode.insertBefore(a,b)})()</script>
<gcse:search></gcse:search>
</div>
</div>
</div>
<header id=header class="header container">
<div class=logo-wrapper>
<a href=/ class=logo>
Justice's Blog
</a>
</div>
<nav class=site-navbar>
<ul id=menu class=menu>
<li class=menu-item>
<a class=menu-item-link href=https://justice.bj.cn/>主页</a>
</li>
<li class=menu-item>
<a class=menu-item-link href=https://justice.bj.cn/post/>点滴</a>
</li>
<li class=menu-item>
<a class=menu-item-link href=https://justice.bj.cn/tags/>标签</a>
</li>
<li class=menu-item>
<a class=menu-item-link href=https://justice.bj.cn/categories/>分类</a>
</li>
<li class=menu-item>
<a class=menu-item-link href=https://gohugo.io rel=noopener target=_blank>
更多
<i class=iconfont><svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18" height="18"><path d="M623.36 272.96 473.216 423.04C467.2 429.056 467.072 438.656 472.896 444.416c0 0-6.72-6.656 1.6 1.6 21.568 21.632 54.144 54.208 54.144 54.208C534.464 506.048 544 505.856 550.016 499.904l150.08-150.144 67.328 66.432c9.024 8.96 27.456 4.544 30.4-8.96 19.968-92.608 46.656-227.52 46.656-227.52 6.848-34.496-16.192-56.704-49.92-49.92.0.0-134.656 26.816-227.328 46.784C560.32 178.048 556.352 182.272 554.752 187.136c-3.2 6.208-3.008 14.208 3.776 20.992L623.36 272.96z"/><path d="M841.152 457.152c-30.528.0-54.784 24.512-54.784 54.656V786.56H237.696V237.696h206.016c6.656.0 10.752.0 13.248.0 30.72.0 55.04-24.512 55.04-54.848C512 152.32 487.36 128 456.96 128H183.04C153.216 128 128 152.576 128 182.848c0 3.136.256 6.272.768 9.28C128.256 195.136 128 198.272 128 201.408v639.488c0 .064.0.192.0.256.0.128.0.192.0.32.0 30.528 24.512 54.784 54.784 54.784H829.76c6.592.0 9.728.0 11.712.0 28.736.0 52.928-22.976 54.464-51.968C896 843.264 896 842.304 896 841.344v-20.352V561.408v-49.28C896 481.792 871.424 457.152 841.152 457.152z"/></svg>
</i>
</a>
</li>
<li class=menu-item>
<a id=openSearch class="menu-item-link menu-item-search" href=#>
<i class=iconfont><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="18" height="18" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M973.81454219 973.81454219a91.78207815 91.78207815.0 01-129.80999631.0L682.0297247 811.83972101a425.48527711 425.48527711.0 01-230.35931791 68.16531768 428.3346319 428.3346319.0 11428.3346319-428.3346319A425.48527711 425.48527711.0 01811.83972101 682.0297247l162.02961656 161.97482118a91.83687354 91.83687354.0 01-.05479538 129.80999631zm-522.1441354-828.1209266a305.97679241 305.97679241.0 100 611.95358361 305.97679241 305.97679241.0 000-611.95358361z"/></svg>
</i>
</a>
</li>
</ul>
</nav>
</header>
<div id=mobile-panel>
<main id=main class="main bg-llight">
<div class=content-wrapper>
<div id=content class="content container">
<article class="post bg-white">
<header class=post-header>
<h1 class=post-title>Rust 数据类型</h1>
<div class=post-meta>
<time datetime=2021-09-28 class=post-time>
2021-09-28
</time>
<div class=post-category>
<a href=https://justice.bj.cn/categories/language/> language </a>
<a href=https://justice.bj.cn/categories/rust/> rust </a>
</div>
<span id=busuanzi_container_page_pv>
| 阅读 <span id=busuanzi_value_page_pv></span>
</span>
</div>
</header>
<div class=post-toc id=post-toc>
<h2 class=post-toc-title>文章目录</h2>
<div class=post-toc-content>
<nav id=TableOfContents>
<ul>
<li><a href=#简介>简介</a></li>
<li><a href=#标量类型scalar>标量类型(scalar)</a>
<ul>
<li><a href=#bool类型>bool类型</a></li>
<li><a href=#numeric类型>numeric类型</a></li>
<li><a href=#char类型>char类型</a></li>
</ul>
</li>
<li><a href=#复合类型>复合类型</a>
<ul>
<li><a href=#tuple元组>Tuple(元组)</a></li>
<li><a href=#struct结构体>Struct(结构体)</a></li>
</ul>
</li>
<li><a href=#集合类型>集合类型</a>
<ul>
<li><a href=#array数组>Array(数组)</a></li>
</ul>
</li>
<li><a href=#slice切片>Slice(切片)</a></li>
<li><a href=#vector向量>Vector(向量)</a></li>
<li><a href=#字符串>字符串</a>
<ul>
<li><a href=#str>str</a></li>
<li><a href=#string>String</a></li>
</ul>
</li>
<li><a href=#hashmap哈希表>HashMap(哈希表)</a></li>
<li><a href=#hashset>HashSet</a></li>
<li><a href=#参考>参考</a></li>
</ul>
</nav>
</div>
</div>
<div class=post-content>
<h1 id=rust-数据类型>Rust 数据类型</h1>
<h2 id=简介>简介</h2>
<p>Rust的数据类型分为<code>标量(scalar)</code>类型和<code>复合(compound)</code>类型两类。</p>
<ul>
<li>
<p>标量类型：表示一个单独的值，包括<code>bool</code>, <code>numeirc</code>, <code>char</code>;</p>
</li>
<li>
<p>复合(compound)类型：多个值组合而成</p>
<ul>
<li>
<p>元组(tuple)</p>
</li>
<li>
<p>数组(array)</p>
</li>
<li>
<p>结构体(struct)</p>
</li>
</ul>
</li>
<li>
<p>集合类型</p>
<ul>
<li>向量</li>
</ul>
</li>
</ul>
<h2 id=标量类型scalar>标量类型(scalar)</h2>
<h3 id=bool类型>bool类型</h3>
<ul>
<li>bool类型会占一个字节, 从而允许指针指向这个字节的地址;</li>
</ul>
<h3 id=numeric类型>numeric类型</h3>
<ul>
<li>不允许隐式转换；</li>
<li>如果需要调用类型的方法, 在有二意的情况下必须显式转换, 例如加后缀: <code>(2.0_f64).sqrt()</code>；</li>
<li><code>bool</code>, <code>char</code>, <code>enum</code> 可以转换为任意整型<code>integer</code>, 但反向转换不行, 唯一例外是<code>u8</code>转<code>char</code>；</li>
</ul>
<h3 id=char类型>char类型</h3>
<ul>
<li>大小32bit</li>
<li>UNICODE编码</li>
<li>不允许任何形式的隐式转换</li>
<li><code>u8</code>是允许 <code>as</code> 转换为char的唯一形式</li>
</ul>
<h2 id=复合类型>复合类型</h2>
<p>复合(compound)类型由多个值组合而成。</p>
<h3 id=tuple元组>Tuple(元组)</h3>
<p>元组是一个将多个其他类型的值组合进一个复合类型的主要方式。</p>
<ul>
<li>
<p>包含在<code>()</code>中的<code>,</code>分隔的值列表<code>(T1, T2, ...)</code>；</p>
</li>
<li>
<p>Rust元组长度固定，一旦声明，其长度不会增大或缩小；</p>
</li>
<li>
<p>Rust元组分配在栈空间；</p>
</li>
</ul>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-rust data-lang=rust><span class=c1>// 元组定义
</span><span class=c1></span><span class=kd>let</span><span class=w> </span><span class=n>tup1</span>: <span class=p>(</span><span class=kt>i32</span><span class=p>,</span><span class=w> </span><span class=kt>f64</span><span class=p>,</span><span class=w> </span><span class=kt>u8</span><span class=p>)</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=mi>500</span><span class=p>,</span><span class=w> </span><span class=mf>6.4</span><span class=p>,</span><span class=w> </span><span class=mi>1</span><span class=p>);</span><span class=w>
</span><span class=w></span><span class=kd>let</span><span class=w> </span><span class=n>tup2</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=mi>500</span><span class=p>,</span><span class=w> </span><span class=mf>6.4</span><span class=p>,</span><span class=w> </span><span class=mi>1</span><span class=p>);</span><span class=w>
</span><span class=w></span><span class=c1>// 元组解构
</span><span class=c1></span><span class=kd>let</span><span class=w> </span><span class=p>(</span><span class=n>x</span><span class=p>,</span><span class=w> </span><span class=n>y</span><span class=p>,</span><span class=w> </span><span class=n>z</span><span class=p>)</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>tup1</span><span class=p>;</span><span class=w>
</span><span class=w></span><span class=c1>// 索引访问
</span><span class=c1></span><span class=kd>let</span><span class=w> </span><span class=n>five_hundred</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>tup2</span><span class=p>.</span><span class=mi>0</span><span class=p>;</span><span class=w>
</span><span class=w></span><span class=kd>let</span><span class=w> </span><span class=n>six_point_four</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>tup2</span><span class=p>.</span><span class=mi>1</span><span class=p>;</span><span class=w>
</span><span class=w></span><span class=kd>let</span><span class=w> </span><span class=n>one</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>tup3</span><span class=p>.</span><span class=mi>2</span><span class=p>;</span><span class=w>
</span></code></pre></td></tr></table>
</div>
</div><h3 id=struct结构体>Struct(结构体)</h3>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-rust data-lang=rust><span class=k>struct</span> <span class=nc>Nil</span><span class=p>;</span><span class=w>    </span><span class=c1>//单元结构体
</span><span class=c1></span><span class=w>
</span><span class=w></span><span class=c1>// 普通struct
</span><span class=c1></span><span class=k>struct</span> <span class=nc>Point</span><span class=w> </span><span class=p>{</span><span class=w>
</span><span class=w>    </span><span class=n>x</span>: <span class=kt>f32</span><span class=p>,</span><span class=w>
</span><span class=w>    </span><span class=n>y</span>: <span class=kt>f32</span><span class=p>,</span><span class=w>
</span><span class=w></span><span class=p>}</span><span class=w>
</span><span class=w></span><span class=c1>//
</span><span class=c1></span><span class=k>struct</span> <span class=nc>Retangle</span><span class=w> </span><span class=p>{</span><span class=w>
</span><span class=w>    </span><span class=n>topleft</span>: <span class=nc>Point</span><span class=p>,</span><span class=w>
</span><span class=w>    </span><span class=n>bottomRight</span>: <span class=nc>point</span><span class=p>,</span><span class=w>
</span><span class=w></span><span class=p>}</span><span class=w>
</span><span class=w></span><span class=c1>// 结构体实例化
</span><span class=c1></span><span class=kd>let</span><span class=w> </span><span class=n>point</span>: <span class=nc>Point</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Point</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=n>x</span>: <span class=mf>0.3</span><span class=p>,</span><span class=w> </span><span class=n>y</span>: <span class=mf>0.4</span><span class=w> </span><span class=p>};</span><span class=w>
</span><span class=w></span><span class=n>println</span><span class=o>!</span><span class=p>(</span><span class=s>&#34;point coordinates: ({},{})&#34;</span><span class=p>,</span><span class=w> </span><span class=n>point</span><span class=p>.</span><span class=n>x</span><span class=p>,</span><span class=w> </span><span class=n>point</span><span class=p>.</span><span class=n>y</span><span class=p>);</span><span class=w> </span><span class=c1>// 访问 point 的字段
</span><span class=c1>// let解绑struct
</span><span class=c1></span><span class=kd>let</span><span class=w> </span><span class=n>Point</span><span class=w> </span><span class=p>{</span><span class=n>x</span>: <span class=nc>my_x</span><span class=p>,</span><span class=w> </span><span class=n>y</span>: <span class=nc>my_y</span><span class=p>}</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>point</span><span class=p>;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=c1>// struct tuple
</span><span class=c1></span><span class=k>struct</span> <span class=nc>Pair</span><span class=p>(</span><span class=kt>i32</span><span class=p>,</span><span class=w> </span><span class=kt>f32</span><span class=p>);</span><span class=w>  </span><span class=c1>//struct tuple
</span><span class=c1></span><span class=kd>let</span><span class=w> </span><span class=n>pair</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Pair</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=mf>0.1</span><span class=p>);</span><span class=w>
</span><span class=w></span><span class=n>println</span><span class=o>!</span><span class=p>(</span><span class=s>&#34;pair contains {:?} and {:?}&#34;</span><span class=p>,</span><span class=w> </span><span class=n>pair</span><span class=p>.</span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=n>pair</span><span class=p>.</span><span class=mi>1</span><span class=p>);</span><span class=w>
</span><span class=w></span><span class=kd>let</span><span class=w> </span><span class=n>Pair</span><span class=p>(</span><span class=n>integer</span><span class=p>,</span><span class=w> </span><span class=n>decimal</span><span class=p>)</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>pair</span><span class=p>;</span><span class=w>
</span><span class=w></span><span class=n>println</span><span class=o>!</span><span class=p>(</span><span class=s>&#34;pair contains {:?} and {:?}&#34;</span><span class=p>,</span><span class=w> </span><span class=n>integer</span><span class=p>,</span><span class=w> </span><span class=n>decimal</span><span class=p>);</span><span class=w>
</span></code></pre></td></tr></table>
</div>
</div><h2 id=集合类型>集合类型</h2>
<h3 id=array数组>Array(数组)</h3>
<p>在一块连续空间内存中，存储了一系列的同样类型的数据</p>
<ul>
<li>
<p>Rust数组的类型为<code>[T; N]</code>，<code>T</code>表示元素类型，<code>N</code>为元素个数，只有当两个数组的T, N都相同时，这两个数组的类型才相同；</p>
</li>
<li>
<p>Rust数组大小固定，一旦声明，其长度不会增大或缩小；</p>
</li>
<li>
<p>Rust数组位于<code>栈</code>上；</p>
</li>
<li>
<p>数组索引访问错误会产生panic；</p>
</li>
<li>
<p>数组只能储存一种类型的数据，无法存储不同类型的数据；</p>
</li>
</ul>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-rust data-lang=rust><span class=c1>// 数组定义
</span><span class=c1></span><span class=kd>let</span><span class=w> </span><span class=n>a</span>: <span class=p>[</span><span class=kt>i32</span><span class=p>;</span><span class=w> </span><span class=mi>5</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=mi>2</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>,</span><span class=w> </span><span class=mi>4</span><span class=p>,</span><span class=w> </span><span class=mi>5</span><span class=p>];</span><span class=w>
</span><span class=w></span><span class=c1>// let a = [1,&#34;string&#34;];   //错误，数组元素类型应该相同
</span><span class=c1></span><span class=kd>let</span><span class=w> </span><span class=n>color</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>[</span><span class=s>&#34;Red&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;Yellow&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;Blue&#34;</span><span class=p>];</span><span class=w>
</span><span class=w></span><span class=c1>// 数组元素索引访问
</span><span class=c1></span><span class=kd>let</span><span class=w> </span><span class=n>first</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>a</span><span class=p>[</span><span class=mi>0</span><span class=p>];</span><span class=w>
</span><span class=w></span><span class=kd>let</span><span class=w> </span><span class=n>second</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>a</span><span class=p>[</span><span class=mi>1</span><span class=p>];</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=c1>// 数组长度
</span><span class=c1></span><span class=kd>let</span><span class=w> </span><span class=n>l</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>a</span><span class=p>.</span><span class=n>len</span><span class=p>()</span><span class=w>
</span></code></pre></td></tr></table>
</div>
</div><h2 id=slice切片>Slice(切片)</h2>
<p>Slice(切片)是对数组一个片段的引用。</p>
<ul>
<li>
<p>Slice继承了Array的length、item等很多的方法；</p>
</li>
<li></li>
</ul>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-rust data-lang=rust><span class=kd>let</span><span class=w> </span><span class=n>arr1</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=mi>2</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>,</span><span class=w> </span><span class=mi>4</span><span class=p>];</span><span class=w>  </span><span class=c1>//
</span><span class=c1></span><span class=kd>let</span><span class=w> </span><span class=n>s1</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=o>&amp;</span><span class=n>arr1</span><span class=p>[..];</span><span class=w>       </span><span class=c1>//获取数组arr1所有元素；
</span><span class=c1></span><span class=kd>let</span><span class=w> </span><span class=n>s2</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=o>&amp;</span><span class=n>arr1</span><span class=p>[</span><span class=mi>1</span><span class=p>..</span><span class=mi>3</span><span class=p>];</span><span class=w>     </span><span class=c1>//获取数组切片 [2,3] 
</span></code></pre></td></tr></table>
</div>
</div><h2 id=vector向量>Vector(向量)</h2>
<ul>
<li>
<p>vector是rust中的可变数组；</p>
</li>
<li>
<p>Vec 在<code>堆</code>上分配空间；</p>
</li>
<li>
<p>Vec<t>中的泛型<code>T</code> 必须是<code>Sized</code>的；</p>
</li>
</ul>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-rust data-lang=rust><span class=c1>// vector初始化
</span><span class=c1></span><span class=kd>let</span><span class=w> </span><span class=n>v1</span>: <span class=nb>Vec</span><span class=o>&lt;</span><span class=kt>i32</span><span class=o>&gt;</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>Vec</span>::<span class=n>new</span><span class=p>();</span><span class=w>
</span><span class=w></span><span class=kd>let</span><span class=w> </span><span class=n>v2</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>vec</span><span class=o>!</span><span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>];</span><span class=w>            </span><span class=c1>//vec!宏
</span><span class=c1></span><span class=kd>let</span><span class=w> </span><span class=n>v</span>: <span class=nb>Vec</span><span class=o>&lt;</span><span class=n>_</span><span class=o>&gt;</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=mi>1</span><span class=p>..</span><span class=mi>5</span><span class=p>).</span><span class=n>collect</span><span class=p>();</span><span class=w>
</span><span class=w></span><span class=c1>// vector更新
</span><span class=c1></span><span class=kd>let</span><span class=w> </span><span class=k>mut</span><span class=w> </span><span class=n>v</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>vec</span><span class=o>!</span><span class=p>[];</span><span class=w>
</span><span class=w></span><span class=n>v</span><span class=p>.</span><span class=n>push</span><span class=p>(</span><span class=mi>1</span><span class=p>);</span><span class=w>
</span><span class=w></span><span class=c1>// vector元素访问
</span><span class=c1></span><span class=kd>let</span><span class=w> </span><span class=n>v4</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>vec</span><span class=o>!</span><span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=mi>4</span><span class=p>,</span><span class=mi>5</span><span class=p>];</span><span class=w>            </span><span class=c1>//通过vec!宏初始化
</span><span class=c1></span><span class=kd>let</span><span class=w> </span><span class=n>third</span>: <span class=kp>&amp;</span><span class=kt>i32</span> <span class=o>=</span><span class=w> </span><span class=o>&amp;</span><span class=n>v</span><span class=p>[</span><span class=mi>2</span><span class=p>];</span><span class=w>                </span><span class=c1>//
</span><span class=c1></span><span class=kd>let</span><span class=w> </span><span class=n>third</span>: <span class=nb>Option</span><span class=o>&lt;&amp;</span><span class=kt>i32</span><span class=o>&gt;</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>v</span><span class=p>.</span><span class=n>get</span><span class=p>(</span><span class=mi>2</span><span class=p>);</span><span class=w>     </span><span class=c1>//
</span><span class=c1></span><span class=w>
</span><span class=w></span><span class=k>for</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=k>in</span><span class=w> </span><span class=o>&amp;</span><span class=n>v</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=p>..</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=c1>// 获得引用
</span><span class=c1></span><span class=k>for</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=k>in</span><span class=w> </span><span class=o>&amp;</span><span class=k>mut</span><span class=w> </span><span class=n>v</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=p>..</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=c1>// 获得可变引用
</span><span class=c1></span><span class=k>for</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=k>in</span><span class=w> </span><span class=n>v</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=p>..</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=c1>// 获得所有权，注意此时Vec的属主将会被转移！！
</span></code></pre></td></tr></table>
</div>
</div><h2 id=字符串>字符串</h2>
<p>Rust字符串包括两种：<code>str</code>和<code>String</code>。</p>
<h3 id=str>str</h3>
<ul>
<li>
<p><code>str</code>由核心语言提供；</p>
</li>
<li>
<p>常以引用的形式出现——<code>&str</code>；</p>
</li>
<li>
<p>静态不可变；</p>
</li>
<li>
<p>支持转义；</p>
</li>
<li>
<p>支持切片操作；</p>
</li>
</ul>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-rust data-lang=rust><span class=c1>//定义
</span><span class=c1></span><span class=kd>let</span><span class=w> </span><span class=n>x</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&#34;Hello&#34;</span><span class=p>;</span><span class=w>
</span><span class=w></span><span class=kd>let</span><span class=w> </span><span class=n>x</span>: <span class=kp>&amp;</span><span class=nb>&#39;static</span><span class=w> </span><span class=kt>str</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&#34;Hello&#34;</span><span class=p>;</span><span class=w>
</span><span class=w></span><span class=c1>//转义
</span><span class=c1></span><span class=kd>let</span><span class=w> </span><span class=n>z</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&#34;foo
</span><span class=s>bar&#34;</span><span class=w>
</span><span class=w></span><span class=kd>let</span><span class=w> </span><span class=n>w</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&#34;foo\nbar&#34;</span><span class=p>;</span><span class=w>
</span><span class=w></span><span class=n>assert_eq</span><span class=o>!</span><span class=p>(</span><span class=n>z</span><span class=p>,</span><span class=w> </span><span class=n>w</span><span class=p>);</span><span class=w>
</span></code></pre></td></tr></table>
</div>
</div><h3 id=string>String</h3>
<ul>
<li>
<p><code>String</code> 由标准库提供的；</p>
</li>
<li>
<p>内存位于堆上；</p>
</li>
<li>
<p>可增长的、可变的、有所有权；</p>
</li>
<li>
<p><code>String</code> 和<code>&str</code> 都是 UTF-8 编码的；</p>
</li>
<li>
<p><code>String</code> -> <code>&str</code>非常轻松，几乎没有开销；</p>
</li>
<li>
<p><code>&str</code> -> <code>String</code>是需要在堆上请求内存的；</p>
</li>
<li>
<p>String不支持通过下标访问，可转换为&str进行；</p>
</li>
</ul>
<ul>
<li>
<p>不是char数组, 而是UTF-8<strong>变长</strong>序列；</p>
</li>
<li>
<p>ASCII字符占一个字节, 其余字符占多个不定长字节.</p>
</li>
<li>
<p><code>len()</code>方法返回的是字节长度, 而非字符长度</p>
</li>
<li>
<p><code>chars().count()</code>返回字符长度</p>
</li>
<li>
<p>一个栈上的String变量在内存中表示如下:</p>
</li>
</ul>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-rust data-lang=rust><span class=c1>//new: 创建空字符串
</span><span class=c1></span><span class=kd>let</span><span class=w> </span><span class=n>s1</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>String</span>::<span class=n>new</span><span class=p>();</span><span class=w>
</span><span class=w></span><span class=c1>//&amp;str -&gt; String                  
</span><span class=c1></span><span class=kd>let</span><span class=w> </span><span class=n>s2</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&#34;string&#34;</span><span class=p>.</span><span class=n>to_string</span><span class=p>()</span><span class=w>            </span><span class=c1>//to_string: 创建非空字符串
</span><span class=c1></span><span class=kd>let</span><span class=w> </span><span class=n>s3</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>String</span>::<span class=n>from</span><span class=p>(</span><span class=s>&#34;string2&#34;</span><span class=p>)</span><span class=w>         </span><span class=c1>//from: 创建非空字符串
</span><span class=c1></span><span class=kd>let</span><span class=w> </span><span class=k>mut</span><span class=w> </span><span class=n>s4</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>String</span>::<span class=n>from</span><span class=p>(</span><span class=s>&#34;foo&#34;</span><span class=p>);</span><span class=w>
</span><span class=w></span><span class=kd>let</span><span class=w> </span><span class=n>s5</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>String</span>::<span class=n>from</span><span class=p>(</span><span class=s>&#34;bar&#34;</span><span class=p>);</span><span class=w>
</span><span class=w></span><span class=c1>// String -&gt; &amp;str
</span><span class=c1></span><span class=kd>let</span><span class=w> </span><span class=n>str1</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>s5</span><span class=p>.</span><span class=n>to_str</span><span class=p>();</span><span class=w>
</span><span class=w></span><span class=kd>let</span><span class=w> </span><span class=n>str2</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=o>&amp;*</span><span class=n>s5</span><span class=p>;</span><span class=w> </span><span class=c1>//String 实现impl Deref&lt;Target=str&gt; for String
</span><span class=c1></span><span class=kd>let</span><span class=w> </span><span class=n>str2</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=o>&amp;</span><span class=n>s5</span><span class=p>;</span><span class=w>  </span><span class=c1>// 
</span><span class=c1>//更新字符串
</span><span class=c1></span><span class=n>s4</span><span class=p>.</span><span class=n>push_str</span><span class=p>(</span><span class=s>&#34;bar&#34;</span><span class=p>);</span><span class=w>                            </span><span class=c1>//push_str: 添加字符串
</span><span class=c1></span><span class=n>s4</span><span class=p>.</span><span class=n>push_str</span><span class=p>(</span><span class=o>&amp;</span><span class=n>s5</span><span class=p>)</span><span class=w>                                 </span><span class=c1>// 这里是&amp;s2 而不是s2
</span><span class=c1></span><span class=n>s4</span><span class=p>.</span><span class=n>push</span><span class=p>(</span><span class=sc>&#39;l&#39;</span><span class=p>)</span><span class=w>                                        </span><span class=c1>//push: 添加字符
</span><span class=c1>//连接字符串
</span><span class=c1></span><span class=kd>let</span><span class=w> </span><span class=n>s1</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>String</span>::<span class=n>from</span><span class=p>(</span><span class=s>&#34;Hello, &#34;</span><span class=p>);</span><span class=w>
</span><span class=w></span><span class=kd>let</span><span class=w> </span><span class=n>s2</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>String</span>::<span class=n>from</span><span class=p>(</span><span class=s>&#34;world!&#34;</span><span class=p>);</span><span class=w>
</span><span class=w></span><span class=c1>// let s3 = s1 + &#34;wold&#34;;
</span><span class=c1></span><span class=kd>let</span><span class=w> </span><span class=n>s3</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>s1</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=o>&amp;</span><span class=n>s2</span><span class=p>;</span><span class=w>   </span><span class=c1>//s1 被移动了，不能继续使用
</span><span class=c1>//格式化字符串
</span><span class=c1></span><span class=kd>let</span><span class=w> </span><span class=n>s1</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>String</span>::<span class=n>from</span><span class=p>(</span><span class=s>&#34;tic&#34;</span><span class=p>);</span><span class=w>
</span><span class=w></span><span class=kd>let</span><span class=w> </span><span class=n>s2</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>String</span>::<span class=n>from</span><span class=p>(</span><span class=s>&#34;tac&#34;</span><span class=p>);</span><span class=w>
</span><span class=w></span><span class=kd>let</span><span class=w> </span><span class=n>s3</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>String</span>::<span class=n>from</span><span class=p>(</span><span class=s>&#34;toe&#34;</span><span class=p>);</span><span class=w>
</span><span class=w></span><span class=kd>let</span><span class=w> </span><span class=n>s</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>format</span><span class=o>!</span><span class=p>(</span><span class=s>&#34;{}-{}-{}&#34;</span><span class=p>,</span><span class=w> </span><span class=n>s1</span><span class=p>,</span><span class=w> </span><span class=n>s2</span><span class=p>,</span><span class=w> </span><span class=n>s3</span><span class=p>);</span><span class=w>  </span><span class=c1>//format!宏不会获取参数的所有权
</span><span class=c1>// 字符串slice
</span><span class=c1></span><span class=kd>let</span><span class=w> </span><span class=n>s1</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>String</span>::<span class=n>from</span><span class=p>(</span><span class=s>&#34;tic&#34;</span><span class=p>);</span><span class=w>   </span><span class=c1>//&amp;str -&gt; String
</span><span class=c1></span><span class=kd>let</span><span class=w> </span><span class=n>s2</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&#34;wold&#34;</span><span class=p>;</span><span class=w>
</span><span class=w></span><span class=n>println</span><span class=o>!</span><span class=p>(</span><span class=s>&#34;{}&#34;</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>s1</span><span class=p>[..</span><span class=mi>1</span><span class=p>],</span><span class=w> </span><span class=o>&amp;</span><span class=n>s2</span><span class=p>[</span><span class=mi>1</span><span class=p>..</span><span class=mi>2</span><span class=p>]);</span><span class=w> </span><span class=c1>// 不要忘了 &amp; 符号
</span><span class=c1>// 字符串遍历
</span><span class=c1></span><span class=k>for</span><span class=w> </span><span class=n>c</span><span class=w> </span><span class=k>in</span><span class=w> </span><span class=s>&#34;abcd&#34;</span><span class=p>.</span><span class=n>chars</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span><span class=w>    </span><span class=n>println</span><span class=o>!</span><span class=p>(</span><span class=s>&#34;{}&#34;</span><span class=p>,</span><span class=w> </span><span class=n>c</span><span class=p>);</span><span class=w> </span><span class=c1>// a,b,c,d
</span><span class=c1></span><span class=p>}</span><span class=w>
</span><span class=w></span><span class=k>for</span><span class=w> </span><span class=n>b</span><span class=w> </span><span class=k>in</span><span class=w> </span><span class=s>&#34;नमस्ते&#34;</span><span class=p>.</span><span class=n>bytes</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span><span class=w>    </span><span class=n>println</span><span class=o>!</span><span class=p>(</span><span class=s>&#34;{}&#34;</span><span class=p>,</span><span class=w> </span><span class=n>b</span><span class=p>);</span><span class=w> </span><span class=c1>// 224 164 168 224 ...
</span><span class=c1></span><span class=p>}</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=c1>//字符串切片
</span><span class=c1></span><span class=kd>let</span><span class=w> </span><span class=n>s</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>String</span>::<span class=n>from</span><span class=p>(</span><span class=s>&#34;Hello word&#34;</span><span class=p>);</span><span class=w>
</span><span class=w></span><span class=kd>let</span><span class=w> </span><span class=n>hello</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=o>&amp;</span><span class=n>s</span><span class=p>[</span><span class=mi>0</span><span class=p>..</span><span class=mi>5</span><span class=p>];</span><span class=w>
</span><span class=w></span><span class=kd>let</span><span class=w> </span><span class=n>word</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=o>&amp;</span><span class=w> </span><span class=n>s</span><span class=p>[</span><span class=mi>6</span><span class=p>..</span><span class=mi>11</span><span class=p>];</span><span class=w>
</span></code></pre></td></tr></table>
</div>
</div><h2 id=hashmap哈希表>HashMap(哈希表)</h2>
<ul>
<li>
<p>所有实现了<code>Eq</code>和<code>Hash</code>的类型都可以作为HashMap的key；</p>
</li>
<li>
<p>通过<code>#[derive(PartialEq, Eq,hash)]</code>可以快速的实现<code>Eq</code>和<code>Hash</code>。</p>
</li>
</ul>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-rust data-lang=rust><span class=c1>//引入hashmap包
</span><span class=c1></span><span class=k>use</span><span class=w> </span><span class=n>std</span>::<span class=n>collections</span>::<span class=n>HashMap</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=c1>//新建
</span><span class=c1></span><span class=kd>let</span><span class=w> </span><span class=k>mut</span><span class=w> </span><span class=n>scores</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>HashMap</span>::<span class=n>new</span><span class=p>();</span><span class=w>
</span><span class=w></span><span class=n>scores</span><span class=p>.</span><span class=n>insert</span><span class=p>(</span><span class=nb>String</span>::<span class=n>form</span><span class=p>(</span><span class=s>&#34;Blue&#34;</span><span class=p>),</span><span class=w> </span><span class=mi>10</span><span class=p>);</span><span class=w>
</span><span class=w></span><span class=n>scores</span><span class=p>.</span><span class=n>insert</span><span class=p>(</span><span class=nb>String</span>::<span class=n>from</span><span class=p>(</span><span class=s>&#34;Yellow&#34;</span><span class=p>),</span><span class=w> </span><span class=mi>50</span><span class=p>);</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=kd>let</span><span class=w> </span><span class=n>teams</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>vec</span><span class=o>!</span><span class=p>[</span><span class=nb>String</span>::<span class=n>from</span><span class=p>(</span><span class=s>&#34;Blue&#34;</span><span class=p>),</span><span class=w> </span><span class=nb>String</span>::<span class=n>from</span><span class=p>(</span><span class=s>&#34;Yellow&#34;</span><span class=p>)];</span><span class=w>
</span><span class=w></span><span class=kd>let</span><span class=w> </span><span class=n>initial_scores</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>vec</span><span class=o>!</span><span class=p>[</span><span class=mi>10</span><span class=p>,</span><span class=w> </span><span class=mi>50</span><span class=p>];</span><span class=w>
</span><span class=w></span><span class=kd>let</span><span class=w> </span><span class=n>scores</span>: <span class=nc>HashMap</span><span class=o>&lt;</span><span class=n>_</span><span class=p>,</span><span class=n>_</span><span class=o>&gt;</span><span class=w> </span><span class=o>=</span><span class=w> 
</span><span class=w>        </span><span class=n>teams</span><span class=p>.</span><span class=n>iter</span><span class=p>().</span><span class=n>zip</span><span class=p>(</span><span class=n>initial_scores</span><span class=p>.</span><span class=n>iter</span><span class=p>()).</span><span class=n>collect</span><span class=p>();</span><span class=w>
</span><span class=w></span><span class=kd>let</span><span class=w> </span><span class=n>score</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>scores</span><span class=p>.</span><span class=n>get</span><span class=p>(</span><span class=nb>String</span>::<span class=n>form</span><span class=p>(</span><span class=s>&#34;Blue&#34;</span><span class=p>));</span><span class=w> </span><span class=c1>//返回Option&lt;T&gt;类型
</span><span class=c1>//遍历
</span><span class=c1></span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=n>key</span><span class=p>,</span><span class=w> </span><span class=n>value</span><span class=p>)</span><span class=w> </span><span class=k>in</span><span class=w> </span><span class=o>&amp;</span><span class=n>scores</span><span class=w> </span><span class=p>{</span><span class=w>
</span><span class=w>  </span><span class=n>println</span><span class=o>!</span><span class=p>(</span><span class=s>&#34;{}: {}&#34;</span><span class=p>,</span><span class=w> </span><span class=n>key</span><span class=p>,</span><span class=w> </span><span class=n>value</span><span class=p>);</span><span class=w>
</span><span class=w></span><span class=p>}</span><span class=w>
</span><span class=w></span><span class=c1>// entry
</span><span class=c1></span><span class=n>scores</span><span class=p>.</span><span class=n>entry</span><span class=p>(</span><span class=nb>String</span>::<span class=n>from</span><span class=p>(</span><span class=s>&#34;Yellow&#34;</span><span class=p>)).</span><span class=n>or_insert</span><span class=p>(</span><span class=mi>50</span><span class=p>)</span><span class=w> </span><span class=c1>//如果存在就忽略，如果不存在就插入. or_insert 方法会返回这个键的值的一个可变引用（&amp;mut V）
</span></code></pre></td></tr></table>
</div>
</div><h2 id=hashset>HashSet</h2>
<ul>
<li>Rust中的HashSet实现非常简单就是<code>HashMap&lt;T,()></code>；</li>
</ul>
<h2 id=参考>参考</h2>
<ol>
<li>
<p><a href=https://www.codemore.top/p/ce5ae822-e775-351d-830c-994110faf023/>https://www.codemore.top/p/ce5ae822-e775-351d-830c-994110faf023/</a></p>
</li>
<li>
<p><a href=https://unpluggedcoder.me/2019/08/15/Rust%E5%85%A5%E9%97%A8%E5%A4%B1%E8%B4%A5%E4%B9%8BOwnership/>https://unpluggedcoder.me/2019/08/15/Rust%E5%85%A5%E9%97%A8%E5%A4%B1%E8%B4%A5%E4%B9%8BOwnership/</a></p>
</li>
<li></li>
</ol>
</div>
<div class=post-copyright>
<p class=copyright-item>
<span class=item-title>文章作者</span>
<span class=item-content>Justice</span>
</p>
<p class=copyright-item>
<span class=item-title>上次更新</span>
<span class=item-content>
2021-09-28
</span>
</p>
<p class=copyright-item>
<span class=item-title>许可协议</span>
<span class=item-content><a rel="license noopener" href=https://creativecommons.org/licenses/by-nc-nd/4.0/ target=_blank>CC BY-NC-ND 4.0</a></span>
</p>
</div>
<div class=post-reward>
<input type=checkbox name=reward id=reward hidden>
<label class=reward-button for=reward>赞赏支持</label>
<div class=qr-code>
</div>
</div>
<footer class=post-footer>
<div class=post-tags>
<a href=https://justice.bj.cn/tags/language/>language</a>
<a href=https://justice.bj.cn/tags/rust/>rust</a>
</div>
<nav class=post-nav>
<a class=prev href=/post/14.language/rust/rust%E5%BC%82%E6%AD%A5/>
<i class=iconfont><svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18" height="18"><path d="M691.908486 949.511495l75.369571-89.491197c10.963703-12.998035 10.285251-32.864502-1.499144-44.378743L479.499795 515.267417l277.93508-310.326815c11.338233-12.190647 11.035334-32.285311-.638543-44.850487l-80.46666-86.564541c-11.680017-12.583596-30.356378-12.893658-41.662889-.716314L257.233596 494.235404c-11.332093 12.183484-11.041474 32.266891.657986 44.844348l80.46666 86.564541c1.772366 1.910513 3.706415 3.533476 5.750981 4.877077l306.620399 321.703933C662.505829 963.726242 680.945807 962.528973 691.908486 949.511495z"/></svg>
</i>
<span class="prev-text nav-default">Rust 异步编程</span>
<span class="prev-text nav-mobile">上一篇</span>
</a>
<a class=next href=/post/14.language/rust/rust-pin/>
<span class="next-text nav-default">Rust中的Pin</span>
<span class="prev-text nav-mobile">下一篇</span>
<i class=iconfont><svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18" height="18"><path d="M332.091514 74.487481l-75.369571 89.491197c-10.963703 12.998035-10.285251 32.864502 1.499144 44.378743l286.278095 300.375162L266.565125 819.058374c-11.338233 12.190647-11.035334 32.285311.638543 44.850487l80.46666 86.564541c11.680017 12.583596 30.356378 12.893658 41.662889.716314l377.434212-421.426145c11.332093-12.183484 11.041474-32.266891-.657986-44.844348l-80.46666-86.564541c-1.772366-1.910513-3.706415-3.533476-5.750981-4.877077L373.270379 71.774697c-11.777231-11.500939-30.216186-10.304694-41.178865 2.712784z"/></svg>
</i>
</a>
</nav>
</footer>
</article>
<div class="post bg-white">
<script src=https://utteranc.es/client.js repo=ZhuZhengyi/gh_comment issue-term=pathname theme=github-light crossorigin=anonymous async></script>
</div>
</div>
</div>
</main>
<footer id=footer class=footer>
<div class=icon-links>
<a href=mailto:justice_103@126.com rel="me noopener" class=iconfont title=email><svg class="icon" viewBox="0 0 1451 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="36" height="36"><path d="M664.781909 681.472759.0 97.881301C0 3.997201 71.046997.0 71.046997.0H474.477909 961.649408h399.992405s71.046998 3.997201 71.046998 97.881301L771.345323 681.472759S764.482731 685.154773 753.594283 688.65053V688.664858C741.602731 693.493018 729.424896 695.068979 718.077952 694.839748 706.731093 695.068979 694.553173 693.493018 682.561621 688.664858V688.65053C671.644501 685.140446 664.781909 681.472759 664.781909 681.472759zm53.281707 130.131124C693.779541 811.016482 658.879232 802.205449 619.10784 767.734955 542.989056 701.759633.0 212.052267.0 212.052267V942.809523S0 1024 83.726336 1024H682.532949 753.579947h595.368192C1432.688811 1024 1432.688811 942.809523 1432.688811 942.809523V212.052267S893.138176 701.759633 817.019477 767.734955c-39.771477 34.470494-74.671786 43.295855-98.955861 43.868928z"/></svg>
</a>
<a href=https://justice.bj.cn/index.xml rel="noopener alternate" type=application/rss+xml class=iconfont title=rss target=_blank><svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="30" height="30"><path d="M819.157333 1024C819.157333 574.592 449.408 204.8.0 204.8V0c561.706667.0 1024 462.293333 1024 1024H819.157333zM140.416 743.04a140.8 140.8.0 01140.501333 140.586667A140.928 140.928.0 01140.074667 1024C62.72 1024 0 961.109333.0 883.626667S62.933333 743.082667 140.416 743.04zM678.784 1024h-199.04c0-263.210667-216.533333-479.786667-479.744-479.786667v-199.04c372.352.0 678.784 306.517333 678.784 678.826667z"/></svg>
</a>
</div>
<div class=copyright>
<span class=power-by>
Powered by <a class=hexo-link href=https://gohugo.io>Hugo</a>
</span>
<span class=division>|</span>
<span class=theme-info>
Theme - <a class=theme-link href=https://github.com/xianmin/hugo-theme-jane>Jane</a>
</span>
<span class=copyright-year>
&copy;
2000 -
2021
<span class=heart>
<i class=iconfont><svg class="icon" viewBox="0 0 1025 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="14" height="14"><path d="M1000.1 247.9c-15.5-37.3-37.6-70.6-65.7-98.9-54.4-54.8-125.8-85-201-85-85.7.0-166 39-221.4 107.4C456.6 103 376.3 64 290.6 64c-75.1.0-146.5 30.4-201.1 85.6-28.2 28.5-50.4 61.9-65.8 99.3-16 38.8-24 79.9-23.6 122.2.7 91.7 40.1 177.2 108.1 234.8 3.1 2.6 6 5.1 8.9 7.8 14.9 13.4 58 52.8 112.6 102.7 93.5 85.5 209.9 191.9 257.5 234.2 7 6.1 15.8 9.5 24.9 9.5 9.2.0 18.1-3.4 24.9-9.5 34.5-30.7 105.8-95.9 181.4-165 74.2-67.8 150.9-138 195.8-178.2 69.5-57.9 109.6-144.4 109.9-237.3.1-42.5-8-83.6-24-122.2z" fill="#8a8a8a"/></svg>
</i>
</span><span class=author>
Justice
</span></span>
<span id=busuanzi_container>
访客数/访问量：<span id=busuanzi_value_site_uv></span>/<span id=busuanzi_value_site_pv></span>
</span>
</div>
</footer>
<div class=back-to-top id=back-to-top>
<i class=iconfont><svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="35" height="35"><path d="M510.866688 227.694839 95.449397 629.218702h235.761562L329.15309 958.01517h362.40389L691.55698 628.188232l241.942331-3.089361L510.866688 227.694839zM63.840492 63.962777h894.052392v131.813095H63.840492V63.962777zm0 0"/></svg>
</i>
</div>
</div>
<script type=text/javascript src=/lib/jquery/jquery-3.2.1.min.js></script>
<script type=text/javascript src=/lib/slideout/slideout-1.0.1.min.js></script>
<script type=text/javascript src=/js/main.638251f4230630f0335d8c6748e53a96f94b72670920b60c09a56fdc8bece214.js integrity="sha256-Y4JR9CMGMPAzXYxnSOU6lvlLcmcJILYMCaVv3Ivs4hQ=" crossorigin=anonymous></script>
<script type=text/javascript>window.MathJax={showProcessingMessages:!1,messageStyle:'none'}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML" async></script>
<link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.11.0/dist/katex.min.css integrity=sha384-BdGj8xC2eZkQaxoQ8nSLefg4AV4/AwB3Fj+8SUSo7pnKP6Eoy18liIKTPn9oBYNG crossorigin=anonymous>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.11.0/dist/katex.min.js integrity=sha384-JiKN5O8x9Hhs/UE5cT5AAJqieYlOZbGT3CHws/y97o3ty4R7/O5poG9F3JoiOYw1 crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.11.0/dist/contrib/auto-render.min.js integrity=sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI crossorigin=anonymous onload=renderMathInElement(document.body)></script>
<script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{})})</script>
<script type=text/javascript src=/js/load-photoswipe.js></script>
<script type=text/javascript src=/lib/photoswipe/photoswipe.min.js></script>
<script type=text/javascript src=/lib/photoswipe/photoswipe-ui-default.min.js></script>
<script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script>
<script>$("#openSearch, #openSearchMobile").click(function(){$(".modal-dialog").addClass("visible")}),$("#closeSearch").click(function(){$(".modal-dialog").removeClass("visible")}),$(document).click(function(a){$(a.target).closest(".modal-content, #openSearch, #openSearchMobile").length||$("body").find(".modal-dialog").removeClass("visible")})</script>
</body>
</html>