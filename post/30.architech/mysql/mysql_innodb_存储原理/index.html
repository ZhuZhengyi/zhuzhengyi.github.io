<!doctype html><html lang=zh-cn itemscope itemtype=http://schema.org/WebPage>
<head>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<title>MySQL InnoDB 存储原理 - Justice的小站</title>
<meta name=renderer content="webkit">
<meta name=referrer content="no-referrer">
<meta name=viewport content="width=device-width,initial-scale=1,user-scalable=yes">
<meta name=MobileOptimized content="width">
<meta name=HandheldFriendly content="true">
<meta name=applicable-device content="pc,mobile">
<meta name=theme-color content="#f8f5ec">
<meta name=msapplication-navbutton-color content="#f8f5ec">
<meta name=apple-mobile-web-app-capable content="yes">
<meta name=apple-mobile-web-app-status-bar-style content="#f8f5ec">
<meta name=mobile-web-app-capable content="yes">
<meta name=author content="Justice">
<meta name=description content="MySQL InnoDB 存储原理 简介 mysql InnoDB 存储引擎 目录结构 mysql InnoDB存储引擎的数据以目录文件形式存储在磁盘中； 每个db 都会在 /var/lib/mysql/ 目录里面创建一个以 db 为名的目录；">
<meta name=keywords content="tech,it,blog">
<meta name=generator content="Hugo 0.88.1">
<link rel=canonical href=https://justice.bj.cn/post/30.architech/mysql/mysql_innodb_%E5%AD%98%E5%82%A8%E5%8E%9F%E7%90%86/>
<link rel=icon href=/favicon.ico>
<link rel=stylesheet href=/sass/jane.min.34a0cf3583dc0fd6b4e3fe24a36c076984feee75ebc2792cff33928ccdcfc628.css integrity="sha256-NKDPNYPcD9a04/4ko2wHaYT+7nXrwnks/zOSjM3Pxig=" media=screen crossorigin=anonymous>
<meta property="og:title" content="MySQL InnoDB 存储原理">
<meta property="og:description" content="MySQL InnoDB 存储原理 简介 mysql InnoDB 存储引擎 目录结构 mysql InnoDB存储引擎的数据以目录文件形式存储在磁盘中； 每个db 都会在 /var/lib/mysql/ 目录里面创建一个以 db 为名的目录；">
<meta property="og:type" content="article">
<meta property="og:url" content="https://justice.bj.cn/post/30.architech/mysql/mysql_innodb_%E5%AD%98%E5%82%A8%E5%8E%9F%E7%90%86/"><meta property="article:section" content="post">
<meta property="article:published_time" content="2024-04-24T12:31:05+08:00">
<meta property="article:modified_time" content="2024-04-24T12:31:05+08:00"><meta property="og:site_name" content="Justice的小站">
<meta itemprop=name content="MySQL InnoDB 存储原理">
<meta itemprop=description content="MySQL InnoDB 存储原理 简介 mysql InnoDB 存储引擎 目录结构 mysql InnoDB存储引擎的数据以目录文件形式存储在磁盘中； 每个db 都会在 /var/lib/mysql/ 目录里面创建一个以 db 为名的目录；"><meta itemprop=datePublished content="2024-04-24T12:31:05+08:00">
<meta itemprop=dateModified content="2024-04-24T12:31:05+08:00">
<meta itemprop=wordCount content="2159">
<meta itemprop=keywords content="architech,mysql,"><meta name=twitter:card content="summary">
<meta name=twitter:title content="MySQL InnoDB 存储原理">
<meta name=twitter:description content="MySQL InnoDB 存储原理 简介 mysql InnoDB 存储引擎 目录结构 mysql InnoDB存储引擎的数据以目录文件形式存储在磁盘中； 每个db 都会在 /var/lib/mysql/ 目录里面创建一个以 db 为名的目录；"><!--[if lte IE 9]><script src=https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js></script><![endif]--><!--[if lt IE 9]><script src=https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js></script>
<script src=https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js></script><![endif]-->
</head>
<body>
<div id=mobile-navbar class=mobile-navbar>
<div class=mobile-header-logo>
<a href=/ class=logo>Justice's Blog</a>
</div>
<div class=mobile-navbar-icon>
<span></span>
<span></span>
<span></span>
</div>
</div>
<nav id=mobile-menu class="mobile-menu slideout-menu">
<ul class=mobile-menu-list>
<li class=mobile-menu-item>
<a class=menu-item-link href=https://justice.bj.cn/>主页</a>
</li><li class=mobile-menu-item>
<a class=menu-item-link href=https://justice.bj.cn/post/>点滴</a>
</li><li class=mobile-menu-item>
<a class=menu-item-link href=https://justice.bj.cn/tags/>标签</a>
</li><li class=mobile-menu-item>
<a class=menu-item-link href=https://justice.bj.cn/categories/>分类</a>
</li><li class=mobile-menu-item>
<a class=menu-item-link href=http://passer-by.com/pacman/ rel=noopener target=_blank>
更多
<i class=iconfont><svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18" height="18"><path d="M623.36 272.96 473.216 423.04C467.2 429.056 467.072 438.656 472.896 444.416c0 0-6.72-6.656 1.6 1.6 21.568 21.632 54.144 54.208 54.144 54.208C534.464 506.048 544 505.856 550.016 499.904l150.08-150.144 67.328 66.432c9.024 8.96 27.456 4.544 30.4-8.96 19.968-92.608 46.656-227.52 46.656-227.52 6.848-34.496-16.192-56.704-49.92-49.92.0.0-134.656 26.816-227.328 46.784C560.32 178.048 556.352 182.272 554.752 187.136c-3.2 6.208-3.008 14.208 3.776 20.992L623.36 272.96z"/><path d="M841.152 457.152c-30.528.0-54.784 24.512-54.784 54.656V786.56H237.696V237.696h206.016c6.656.0 10.752.0 13.248.0 30.72.0 55.04-24.512 55.04-54.848C512 152.32 487.36 128 456.96 128H183.04C153.216 128 128 152.576 128 182.848c0 3.136.256 6.272.768 9.28C128.256 195.136 128 198.272 128 201.408v639.488c0 .064.0.192.0.256.0.128.0.192.0.32.0 30.528 24.512 54.784 54.784 54.784H829.76c6.592.0 9.728.0 11.712.0 28.736.0 52.928-22.976 54.464-51.968C896 843.264 896 842.304 896 841.344v-20.352V561.408v-49.28C896 481.792 871.424 457.152 841.152 457.152z"/></svg>
</i>
</a>
</li>
</ul>
</nav>
<link rel=stylesheet href=/lib/photoswipe/photoswipe.min.css>
<link rel=stylesheet href=/lib/photoswipe/default-skin/default-skin.min.css>
<div class=pswp tabindex=-1 role=dialog aria-hidden=true>
<div class=pswp__bg></div>
<div class=pswp__scroll-wrap>
<div class=pswp__container>
<div class=pswp__item></div>
<div class=pswp__item></div>
<div class=pswp__item></div>
</div>
<div class="pswp__ui pswp__ui--hidden">
<div class=pswp__top-bar>
<div class=pswp__counter></div>
<button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
<div class=pswp__preloader>
<div class=pswp__preloader__icn>
<div class=pswp__preloader__cut>
<div class=pswp__preloader__donut></div>
</div>
</div>
</div>
</div>
<div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
<div class=pswp__share-tooltip></div>
</div>
<button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
</button>
<div class=pswp__caption>
<div class=pswp__caption__center></div>
</div>
</div>
</div>
</div>
<div id=fastSearch>
<input id=searchInput tabindex=0>
<ul id=searchResults>
</ul>
</div>
<script src=/js/fuse.min.js></script>
<script src=/js/fastsearch.js></script>
<header id=header class="header container">
<div class=logo-wrapper>
<a href=/ class=logo>
Justice's Blog
</a>
</div>
<nav class=site-navbar>
<ul id=menu class=menu>
<li class=menu-item>
<a class=menu-item-link href=https://justice.bj.cn/>主页</a>
</li>
<li class=menu-item>
<a class=menu-item-link href=https://justice.bj.cn/post/>点滴</a>
</li>
<li class=menu-item>
<a class=menu-item-link href=https://justice.bj.cn/tags/>标签</a>
</li>
<li class=menu-item>
<a class=menu-item-link href=https://justice.bj.cn/categories/>分类</a>
</li>
<li class=menu-item>
<a class=menu-item-link href=http://passer-by.com/pacman/ rel=noopener target=_blank>
更多
<i class=iconfont><svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18" height="18"><path d="M623.36 272.96 473.216 423.04C467.2 429.056 467.072 438.656 472.896 444.416c0 0-6.72-6.656 1.6 1.6 21.568 21.632 54.144 54.208 54.144 54.208C534.464 506.048 544 505.856 550.016 499.904l150.08-150.144 67.328 66.432c9.024 8.96 27.456 4.544 30.4-8.96 19.968-92.608 46.656-227.52 46.656-227.52 6.848-34.496-16.192-56.704-49.92-49.92.0.0-134.656 26.816-227.328 46.784C560.32 178.048 556.352 182.272 554.752 187.136c-3.2 6.208-3.008 14.208 3.776 20.992L623.36 272.96z"/><path d="M841.152 457.152c-30.528.0-54.784 24.512-54.784 54.656V786.56H237.696V237.696h206.016c6.656.0 10.752.0 13.248.0 30.72.0 55.04-24.512 55.04-54.848C512 152.32 487.36 128 456.96 128H183.04C153.216 128 128 152.576 128 182.848c0 3.136.256 6.272.768 9.28C128.256 195.136 128 198.272 128 201.408v639.488c0 .064.0.192.0.256.0.128.0.192.0.32.0 30.528 24.512 54.784 54.784 54.784H829.76c6.592.0 9.728.0 11.712.0 28.736.0 52.928-22.976 54.464-51.968C896 843.264 896 842.304 896 841.344v-20.352V561.408v-49.28C896 481.792 871.424 457.152 841.152 457.152z"/></svg>
</i>
</a>
</li>
<li class=menu-item>
<a id=search-click class="menu-item-link menu-item-search" href=#>
<i class=iconfont><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="18" height="18" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M973.81454219 973.81454219a91.78207815 91.78207815.0 01-129.80999631.0L682.0297247 811.83972101a425.48527711 425.48527711.0 01-230.35931791 68.16531768 428.3346319 428.3346319.0 11428.3346319-428.3346319A425.48527711 425.48527711.0 01811.83972101 682.0297247l162.02961656 161.97482118a91.83687354 91.83687354.0 01-.05479538 129.80999631zm-522.1441354-828.1209266a305.97679241 305.97679241.0 100 611.95358361 305.97679241 305.97679241.0 000-611.95358361z"/></svg>
</i>
</a>
</li>
</ul>
</nav>
</header>
<div id=mobile-panel>
<main id=main class="main bg-llight">
<div class=content-wrapper>
<div id=content class="content container">
<article class="post bg-white">
<header class=post-header>
<h1 class=post-title>MySQL InnoDB 存储原理</h1>
<div class=post-meta>
<time datetime=2024-04-24 class=post-time>
2024-04-24 12:31:05
</time>
<div class=post-category>
<a href=https://justice.bj.cn/categories/architech/> architech </a>
<a href=https://justice.bj.cn/categories/mysql/> mysql </a>
</div>
<span id=busuanzi_container_page_pv>
| 阅读 <span id=busuanzi_value_page_pv></span>
</span>
</div>
</header>
<div class=post-toc id=post-toc>
<h2 class=post-toc-title>文章目录</h2>
<div class=post-toc-content>
<nav id=TableOfContents>
<ul>
<li><a href=#简介>简介</a></li>
<li><a href=#目录结构>目录结构</a></li>
<li><a href=#表空间文件结构>表空间文件结构</a></li>
<li><a href=#行存储结构>行存储结构</a>
<ul>
<li><a href=#compact格式行结构>Compact格式行结构</a></li>
<li><a href=#记录的额外信息>记录的额外信息</a></li>
<li><a href=#隐藏字段>隐藏字段</a></li>
<li><a href=#行溢出>行溢出</a></li>
</ul>
</li>
<li><a href=#数据页结构>数据页结构</a>
<ul>
<li><a href=#页目录>页目录</a></li>
<li><a href=#b树结构>B+树结构</a></li>
</ul>
</li>
<li><a href=#参考>参考</a></li>
</ul>
</nav>
</div>
</div>
<div class=post-content>
<h1 id=mysql-innodb-存储原理>MySQL InnoDB 存储原理</h1>
<h2 id=简介>简介</h2>
<ul>
<li>mysql InnoDB 存储引擎</li>
</ul>
<h2 id=目录结构>目录结构</h2>
<ul>
<li>
<p>mysql InnoDB存储引擎的数据以目录文件形式存储在磁盘中；</p>
</li>
<li>
<p>每个db 都会在 /var/lib/mysql/ 目录里面创建一个以 db 为名的目录；</p>
</li>
<li>
<p>每个db目录下包含：</p>
<ul>
<li>db.opt：db选项，记录当前数据库db的默认字符集和字符校验规则；</li>
<li>table1.frm：表table1结构文件，保存每个表的元数据信息的，主要包含表结构定义；</li>
<li>table1.ibd：表table1数据文件，表数据既可以存在共享表空间文件（文件名：ibdata1）里，也可以存放在独占表空间文件（文件名：表名字.ibd）。这个行为是由参数 innodb_file_per_table 控制的，若设置了参数 innodb_file_per_table 为 1，则会将存储的数据、索引等信息单独存储在一个独占表空间，从 MySQL 5.6.6 版本开始，它的默认值就是 1 了，因此从这个版本之后， MySQL 中每一张表的数据都存放在一个独立的 .ibd 文件。</li>
</ul>
</li>
</ul>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback>[root@xiaolin ~]#ls /var/lib/mysql/my_test
db.opt  
table1.frm  
table1.ibd
</code></pre></td></tr></table>
</div>
</div><h2 id=表空间文件结构>表空间文件结构</h2>
<ul>
<li>
<p>表数据文件(.ibd)又叫表空间文件；</p>
</li>
<li>
<p>表空间由</p>
<ul>
<li>
<p>行（row）：</p>
<ul>
<li>innodb中表记录的每行数据存储为一行；</li>
<li>行是innodb数据存储基本单元；</li>
<li>一行记录除了 TEXT、BLOBs 类型的列，最大为 65535(64K) 字节;</li>
</ul>
</li>
<li>
<p>页（page）：</p>
<ul>
<li>页是innodb的读写单元，innodb每次读写都是一个完整的page；</li>
<li>每个页可以包含多个row；</li>
<li>每个页默认大小16KB；</li>
<li>页之间通过双向链表组织起来，逻辑上连续，物理上可能不连续；</li>
<li>页通过</li>
<li>页分为：
<ul>
<li>数据页：包含row记录；</li>
<li>undo 日志页：；</li>
<li>溢出页</li>
</ul>
</li>
</ul>
</li>
<li>
<p>区(extent):</p>
<ul>
<li>当表中数据量大时，为某个索引分配空间不按照页为单位分配了，而是按照区（extent）为单位分配；</li>
<li>每个区中包含一系列相邻的页，使用顺序 I/O 了；</li>
<li>每个区的大小为 1MB；</li>
</ul>
</li>
<li>
<p>段（segment）：</p>
<ul>
<li>
<p>多个区（extent）组成段；</p>
</li>
<li>
<p>段分为：</p>
<ul>
<li>索引段：存放 B + 树的非叶子节点的区的集合；</li>
<li>数据段：存放 B + 树的叶子节点的区的集合；</li>
<li>回滚段：存放的是回滚数据的区的集合，之前讲<a href=https://xiaolincoding.com/mysql/transaction/mvcc.html>事务隔离 (opens new window)</a>的时候就介绍到了 MVCC 利用了回滚段实现了多版本查询数据。</li>
</ul>
</li>
<li>
<p>这些段共同组成表空间文件；</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><img src=https://raw.githubusercontent.com/ZhuZhengyi/notebook-images/master/2024/01/18-17-52-49-2024-01-18-17-52-39-image.png alt></p>
<h2 id=行存储结构>行存储结构</h2>
<p>InnoDB 的表行存储提供有 4 种行格式：</p>
<ul>
<li>Redundant： MySQL 5.0 版本之前用的行格式，不是一种紧凑的行格式；</li>
<li>Compact：一种紧凑的行格式，可以让一个数据页中可以存放更多的行记录，是MySQL 5.1 版本之后的默认行格式；</li>
<li>Dynamic：</li>
<li>Compresse：</li>
</ul>
<h3 id=compact格式行结构>Compact格式行结构</h3>
<p><img src=/Users/justice/tmp/notebook-img/2024-01-18-17-59-20-image.png alt></p>
<h3 id=记录的额外信息>记录的额外信息</h3>
<ul>
<li>
<p>变长字段长度列表</p>
<ul>
<li>记录varchar, text, blob等变长列的字节长度；</li>
<li>按照列的顺序<strong>逆序存放</strong>；</li>
<li>不需要保存值为 NULL 的变长字段的长度；</li>
<li>逆序存放是为了从记录头信息开始，位置靠前的记录的真实数据和数据对应的字段长度信息可以同时在一个 CPU Cache Line，提高效率；</li>
</ul>
</li>
<li>
<p>NULL 值列表</p>
<ul>
<li>记录可能会存储 NULL列是否是NULL值；</li>
<li>每个列对应一个二进制位（bit），1代表NULL，0为非NULL；</li>
<li>NULL 值列表必须用整数个字节的位表示，小于9个NULL列，用1个字节，否则用多个字节；</li>
<li>NULL 值列表也不是必须的，当所有字段都定义成 NOT NULL 时，不需要NULL值列表；</li>
</ul>
</li>
<li>
<p>记录头信息</p>
<ul>
<li>
<p>记录头信息中包含的内容很多；</p>
</li>
<li>
<p>delete_mask：标识此条数据是否被删除，执行 detele 删除记录的时候，并不会真正的删除记录，只是将该条记录的 delete_mask 标记为 1；</p>
</li>
<li>
<p>next_record：下一条记录的位置。指向的是下一条记录的「记录头信息」和「真实数据」之间的位置；</p>
</li>
<li>
<p>record_type：表示当前记录的类型。</p>
<ul>
<li>0：表示普通记录；</li>
<li>1：表示B+树非叶子节点记录；</li>
<li>2：表示最小记录；</li>
<li>3：表示最大记录；</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id=隐藏字段>隐藏字段</h3>
<ul>
<li>
<p>row_id：</p>
<ul>
<li>建表时未指定主键和唯一约束列，则innodb将自动添加row_id，否则没有row_id；</li>
<li>row_id不是必需的，有的话占用 6 个字节;</li>
</ul>
</li>
<li>
<p>trx_id：事务id</p>
<ul>
<li>表示这条记录是由哪个事务生成的；</li>
<li>trx_id必需，占用 6 个字节；</li>
</ul>
</li>
<li>
<p>roll_pointer：回滚指针</p>
<ul>
<li>记录上一个版本的指针；</li>
<li>roll_pointer 是必需的，占用 7 个字节。</li>
</ul>
</li>
</ul>
<h3 id=行溢出>行溢出</h3>
<ul>
<li>如果一个数据页存不了一条记录，InnoDB 存储引擎会自动将溢出的数据存放到「溢出页」中；</li>
<li>发生行溢出时，在记录的真实数据处只会保存该列的一部分数据，而把剩余的数据放在「溢出页」中，然后真实数据处用 20 字节存储指向溢出页的地址，从而可以找到剩余数据所在的页；</li>
</ul>
<p><img src=https://raw.githubusercontent.com/ZhuZhengyi/notebook-images/master/2024/01/18-20-56-18-2024-01-18-20-56-12-image.png alt></p>
<h2 id=数据页结构>数据页结构</h2>
<p>数据页包括七个部分：</p>
<ul>
<li>
<p>File Header(文件头)：记录页信息， File Header 中有两个指针，分别指向上一个数据页和下一个数据页；</p>
</li>
<li>
<p>Page Hader(页头)：页状态信息；</p>
</li>
<li>
<p>最大最小记录：页中最大记录，最小行记录；</p>
</li>
<li>
<p>User Records：一系列数据行记录；</p>
<ul>
<li>记录按照「主键」顺序组成单向链表；</li>
</ul>
</li>
<li>
<p>FreeSpace: 页中还未被行记录使用的空闲空间；</p>
</li>
<li>
<p>Page Directory：页目录，记录的索引作用；</p>
</li>
<li>
<p>FileTailer：校验页是否完整；</p>
</li>
</ul>
<p><img src=https://raw.githubusercontent.com/ZhuZhengyi/notebook-images/master/2024/01/18-21-06-44-2024-01-18-21-06-19-image.png alt></p>
<p>多个数据页通过FileHeader中的2个指针组成双向链表。</p>
<p><img src=https://raw.githubusercontent.com/ZhuZhengyi/notebook-images/master/2024/01/18-21-07-34-2024-01-18-21-07-27-image.png alt></p>
<h3 id=页目录>页目录</h3>
<p>页目录创建的过程如下：</p>
<ol>
<li>将所有的记录划分成几个组，这些记录包括最小记录和最大记录，但不包括标记为“已删除”的记录；</li>
<li>每个记录组的最后一条记录就是组内最大的那条记录，并且最后一条记录的头信息中会存储该组一共有多少条记录，作为 n_owned 字段（上图中粉红色字段）</li>
<li>页目录用来存储每组最后一条记录的地址偏移量，这些地址偏移量会按照先后顺序存储起来，每组的地址偏移量也被称之为槽（slot），<strong>每个槽相当于指针指向了不同组的最后一个记录</strong>。</li>
</ol>
<p><img src=https://raw.githubusercontent.com/ZhuZhengyi/notebook-images/master/2024/01/18-21-26-44-2024-01-18-21-26-39-image.png alt></p>
<h3 id=b树结构>B+树结构</h3>
<p>聚簇索引</p>
<p><img src=https://raw.githubusercontent.com/ZhuZhengyi/notebook-images/master/2024/01/18-21-09-12-2024-01-18-21-09-07-image.png alt></p>
<h2 id=参考>参考</h2>
<ol>
<li><a href=https://www.xiaolincoding.com/mysql/index/page.html#innodb-%E6%98%AF%E5%A6%82%E4%BD%95%E5%AD%98%E5%82%A8%E6%95%B0%E6%8D%AE%E7%9A%84>从数据页的角度看 B+ 树 | 小林coding</a></li>
</ol>
</div>
<div class=post-copyright>
<p class=copyright-item>
<span class=item-title>文章作者</span>
<span class=item-content>Justice</span>
</p>
<p class=copyright-item>
<span class=item-title>上次更新</span>
<span class=item-content>
2024-04-24 12:31:05
</span>
</p>
<p class=copyright-item>
<span class=item-title>许可协议</span>
<span class=item-content><a rel="license noopener" href=https://creativecommons.org/licenses/by-nc-nd/4.0/ target=_blank>CC BY-NC-ND 4.0</a></span>
</p>
</div>
<div class=post-reward>
<input type=checkbox name=reward id=reward hidden>
<label class=reward-button for=reward>赞赏支持</label>
<div class=qr-code>
<label class=qr-code-image for=reward>
<img class=image src=/image/wx_reward_qrcode.png>
<span>微信打赏</span>
</label>
<label class=qr-code-image for=reward>
<img class=image src=/image/alipay_reward_qrcode.png>
<span>支付宝打赏</span>
</label>
<label class=qr-code-image for=reward>
<img class=image src=/image/bitcoin_reward_qrcode.png>
<span>比特币打赏</span>
</label>
</div>
</div>
<footer class=post-footer>
<div class=post-tags>
<a href=https://justice.bj.cn/tags/architech/>architech</a>
<a href=https://justice.bj.cn/tags/mysql/>mysql</a>
</div>
<nav class=post-nav>
<a class=prev href=/post/21.linux/linux%E7%B3%BB%E7%BB%9F%E8%B0%83%E7%94%A8%E4%B9%8Bfutex/>
<i class=iconfont><svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18" height="18"><path d="M691.908486 949.511495l75.369571-89.491197c10.963703-12.998035 10.285251-32.864502-1.499144-44.378743L479.499795 515.267417l277.93508-310.326815c11.338233-12.190647 11.035334-32.285311-.638543-44.850487l-80.46666-86.564541c-11.680017-12.583596-30.356378-12.893658-41.662889-.716314L257.233596 494.235404c-11.332093 12.183484-11.041474 32.266891.657986 44.844348l80.46666 86.564541c1.772366 1.910513 3.706415 3.533476 5.750981 4.877077l306.620399 321.703933C662.505829 963.726242 680.945807 962.528973 691.908486 949.511495z"/></svg>
</i>
<span class="prev-text nav-default">Linux系统调用之Futex</span>
<span class="prev-text nav-mobile">上一篇</span>
</a>
<a class=next href=/post/40.storage/nvme%E7%AE%80%E4%BB%8B/>
<span class="next-text nav-default">NVMe</span>
<span class="prev-text nav-mobile">下一篇</span>
<i class=iconfont><svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18" height="18"><path d="M332.091514 74.487481l-75.369571 89.491197c-10.963703 12.998035-10.285251 32.864502 1.499144 44.378743l286.278095 300.375162L266.565125 819.058374c-11.338233 12.190647-11.035334 32.285311.638543 44.850487l80.46666 86.564541c11.680017 12.583596 30.356378 12.893658 41.662889.716314l377.434212-421.426145c11.332093-12.183484 11.041474-32.266891-.657986-44.844348l-80.46666-86.564541c-1.772366-1.910513-3.706415-3.533476-5.750981-4.877077L373.270379 71.774697c-11.777231-11.500939-30.216186-10.304694-41.178865 2.712784z"/></svg>
</i>
</a>
</nav>
</footer>
</article>
<div class="post bg-white">
<script src=https://utteranc.es/client.js repo=ZhuZhengyi/gh_comment issue-term=pathname theme=github-light crossorigin=anonymous async></script>
</div>
</div>
</div>
</main>
<footer id=footer class=footer>
<div class=icon-links>
<a href=mailto:justice_103@126.com rel="me noopener" class=iconfont title=email><svg class="icon" viewBox="0 0 1451 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="36" height="36"><path d="M664.781909 681.472759.0 97.881301C0 3.997201 71.046997.0 71.046997.0H474.477909 961.649408h399.992405s71.046998 3.997201 71.046998 97.881301L771.345323 681.472759S764.482731 685.154773 753.594283 688.65053V688.664858C741.602731 693.493018 729.424896 695.068979 718.077952 694.839748 706.731093 695.068979 694.553173 693.493018 682.561621 688.664858V688.65053C671.644501 685.140446 664.781909 681.472759 664.781909 681.472759zm53.281707 130.131124C693.779541 811.016482 658.879232 802.205449 619.10784 767.734955 542.989056 701.759633.0 212.052267.0 212.052267V942.809523S0 1024 83.726336 1024H682.532949 753.579947h595.368192C1432.688811 1024 1432.688811 942.809523 1432.688811 942.809523V212.052267S893.138176 701.759633 817.019477 767.734955c-39.771477 34.470494-74.671786 43.295855-98.955861 43.868928z"/></svg>
</a>
<a href=https://justice.bj.cn/index.xml rel="noopener alternate" type=application/rss+xml class=iconfont title=rss target=_blank><svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="30" height="30"><path d="M819.157333 1024C819.157333 574.592 449.408 204.8.0 204.8V0c561.706667.0 1024 462.293333 1024 1024H819.157333zM140.416 743.04a140.8 140.8.0 01140.501333 140.586667A140.928 140.928.0 01140.074667 1024C62.72 1024 0 961.109333.0 883.626667S62.933333 743.082667 140.416 743.04zM678.784 1024h-199.04c0-263.210667-216.533333-479.786667-479.744-479.786667v-199.04c372.352.0 678.784 306.517333 678.784 678.826667z"/></svg>
</a>
</div>
<div class=copyright>
<span class=power-by>
Powered by <a class=hexo-link href=https://gohugo.io>Hugo</a>
</span>
<span class=division>|</span>
<span class=theme-info>
Theme - <a class=theme-link href=https://github.com/xianmin/hugo-theme-jane>Jane</a>
</span>
<span class=copyright-year>
&copy;
2000 -
2024
<span class=heart>
<i class=iconfont><svg class="icon" viewBox="0 0 1025 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="14" height="14"><path d="M1000.1 247.9c-15.5-37.3-37.6-70.6-65.7-98.9-54.4-54.8-125.8-85-201-85-85.7.0-166 39-221.4 107.4C456.6 103 376.3 64 290.6 64c-75.1.0-146.5 30.4-201.1 85.6-28.2 28.5-50.4 61.9-65.8 99.3-16 38.8-24 79.9-23.6 122.2.7 91.7 40.1 177.2 108.1 234.8 3.1 2.6 6 5.1 8.9 7.8 14.9 13.4 58 52.8 112.6 102.7 93.5 85.5 209.9 191.9 257.5 234.2 7 6.1 15.8 9.5 24.9 9.5 9.2.0 18.1-3.4 24.9-9.5 34.5-30.7 105.8-95.9 181.4-165 74.2-67.8 150.9-138 195.8-178.2 69.5-57.9 109.6-144.4 109.9-237.3.1-42.5-8-83.6-24-122.2z" fill="#8a8a8a"/></svg>
</i>
</span><span class=author>
Justice
</span></span>
<span id=busuanzi_container>
访客数/访问量：<span id=busuanzi_value_site_uv></span>/<span id=busuanzi_value_site_pv></span>
</span>
</div>
</footer>
<div class=back-to-top id=back-to-top>
<i class=iconfont><svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="35" height="35"><path d="M510.866688 227.694839 95.449397 629.218702h235.761562L329.15309 958.01517h362.40389L691.55698 628.188232l241.942331-3.089361L510.866688 227.694839zM63.840492 63.962777h894.052392v131.813095H63.840492V63.962777zm0 0"/></svg>
</i>
</div>
</div>
<script type=text/javascript src=/lib/jquery/jquery-3.2.1.min.js></script>
<script type=text/javascript src=/lib/slideout/slideout-1.0.1.min.js></script>
<script type=text/javascript src=/js/main.638251f4230630f0335d8c6748e53a96f94b72670920b60c09a56fdc8bece214.js integrity="sha256-Y4JR9CMGMPAzXYxnSOU6lvlLcmcJILYMCaVv3Ivs4hQ=" crossorigin=anonymous></script>
<script type=text/javascript>window.MathJax={showProcessingMessages:!1,messageStyle:'none'}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML" async></script>
<link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.11.0/dist/katex.min.css integrity=sha384-BdGj8xC2eZkQaxoQ8nSLefg4AV4/AwB3Fj+8SUSo7pnKP6Eoy18liIKTPn9oBYNG crossorigin=anonymous>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.11.0/dist/katex.min.js integrity=sha384-JiKN5O8x9Hhs/UE5cT5AAJqieYlOZbGT3CHws/y97o3ty4R7/O5poG9F3JoiOYw1 crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.11.0/dist/contrib/auto-render.min.js integrity=sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI crossorigin=anonymous onload=renderMathInElement(document.body)></script>
<script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{})})</script>
<script type=text/javascript src=/js/load-photoswipe.js></script>
<script type=text/javascript src=/lib/photoswipe/photoswipe.min.js></script>
<script type=text/javascript src=/lib/photoswipe/photoswipe-ui-default.min.js></script>
<script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script>
</body>
</html>